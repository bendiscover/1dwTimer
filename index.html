<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1 Day Wraps Countdown Timer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(to bottom, #2c2c2c, #1a1a1a);
            color: #ffffff;
        }
        #logo {
            max-width: 300px;
            margin-bottom: 2rem;
        }
        #timer {
            font-size: 6rem;
            margin-bottom: 2rem;
            color: #4CAF50;
        }
        .input-group {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            margin-bottom: 1rem;
        }
        .input-group label {
            margin-bottom: 0.5rem;
            color: #cccccc;
        }
        #input-container, #control-container {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        button {
            font-size: 1rem;
            padding: 0.5rem;
            background-color: #333333;
            color: #ffffff;
            border: 1px solid #555555;
            cursor: pointer;
        }
        button:hover {
            background-color: #444444;
        }
        #start { background-color: #4CAF50; color: white; }
        #stop { background-color: #f44336; color: white; }
        .selected {
            background-color: #4CAF50;
            color: white;
        }
    </style>
</head>
<body>
    <img id="logo" src="1daywraps.png" alt="1 Day Wraps Logo">
    <div id="timer">00:00:00</div>
    <div id="input-container">
        <div class="input-group">
            <label>Timer Duration:</label>
            <div id="duration-buttons" class="button-group"></div>
        </div>
        <div class="input-group">
            <label>Warning Time:</label>
            <div id="warning-buttons" class="button-group"></div>
        </div>
    </div>
    <div id="control-container">
        <button id="start">Start</button>
        <button id="stop">Stop</button>
    </div>
    
    <audio id="alarm-sound" src="TimerComplete02.wav"></audio>
    <audio id="warning-sound" src="Fantasy SFX 002.wav"></audio>

    <script>
        const timerDisplay = document.getElementById('timer');
        const startButton = document.getElementById('start');
        const stopButton = document.getElementById('stop');
        const alarmSound = document.getElementById('alarm-sound');
        const warningSound = document.getElementById('warning-sound');
        const durationButtons = document.getElementById('duration-buttons');
        const warningButtons = document.getElementById('warning-buttons');

        let countdown;
        let totalSeconds;
        let warningSeconds;
        let isRunning = false;
        let warningTriggered = false;

        function createButtons(container, max, callback) {
            for (let i = 5; i <= max; i += 5) {
                const button = document.createElement('button');
                button.textContent = i + 'm';
                button.addEventListener('click', () => callback(i));
                container.appendChild(button);
            }
        }

        createButtons(durationButtons, 120, setDuration);
        createButtons(warningButtons, 60, setWarning);

        function setDuration(minutes) {
            totalSeconds = minutes * 60;
            updateTimerDisplay();
            selectButton(durationButtons, minutes);
        }

        function setWarning(minutes) {
            warningSeconds = minutes * 60;
            selectButton(warningButtons, minutes);
        }

        function selectButton(container, value) {
            container.querySelectorAll('button').forEach(btn => {
                btn.classList.toggle('selected', btn.textContent === value + 'm');
            });
        }

        function startTimer() {
            if (!isRunning && totalSeconds > 0) {
                isRunning = true;
                warningTriggered = false;
                countdown = setInterval(() => {
                    if (totalSeconds <= warningSeconds && !warningTriggered) {
                        warningSound.play();
                        warningTriggered = true;
                    }

                    if (totalSeconds <= 0) {
                        stopTimer();
                        alarmSound.play();
                    } else {
                        totalSeconds--;
                        updateTimerDisplay();
                    }
                }, 1000);
            }
        }

        function stopTimer() {
            clearInterval(countdown);
            isRunning = false;
        }

        function updateTimerDisplay() {
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;
            timerDisplay.textContent = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        }

        startButton.addEventListener('click', startTimer);
        stopButton.addEventListener('click', stopTimer);

        // Initialize the timer with default values
        setDuration(60);
        setWarning(20);
    </script>
</body>
</html>
